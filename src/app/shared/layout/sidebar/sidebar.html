<div class="fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0"
     [class.translate-x-0]="isOpen"
     [class.-translate-x-full]="!isOpen">

  <!-- Sidebar header -->
  <div class="flex items-center justify-between h-16 px-4 border-b border-gray-200">
    <div class="flex items-center">
      <div class="w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center">
        <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
        </svg>
      </div>
      <span class="ml-3 text-lg font-semibold text-gray-900">Academy</span>
    </div>

    <!-- Close button (mobile only) -->
    <button
      type="button"
      class="lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100"
      (click)="onCloseSidebar()">
      <span class="sr-only">Close sidebar</span>
      <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
      </svg>
    </button>
  </div>

  <!-- User info -->
  <div *ngIf="currentUser" class="p-4 border-b border-gray-200 bg-gray-50">
    <div class="flex items-center">
      <div class="w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center">
        <span class="text-indigo-600 font-medium">
          {{ currentUser.firstName.charAt(0) }}{{ currentUser.lastName.charAt(0) }}
        </span>
      </div>
      <div class="ml-3">
        <p class="text-sm font-medium text-gray-900">{{ currentUser.firstName }} {{ currentUser.lastName }}</p>
        <p class="text-xs text-gray-500 capitalize">{{ currentUser.role }}</p>
      </div>
    </div>
  </div>

  <!-- Navigation -->
  <nav class="flex-1 px-4 py-4 space-y-1 overflow-y-auto">
    <div *ngFor="let item of filteredNavigationItems(); trackBy: trackByNavigationItem">
      <a
        [routerLink]="item.href"
        routerLinkActive="bg-indigo-50 border-indigo-500 text-indigo-700"
        [routerLinkActiveOptions]="{exact: false}"
        class="group flex items-center px-3 py-2 text-sm font-medium rounded-md border-l-4 border-transparent text-gray-600 hover:text-gray-900 hover:bg-gray-50 transition-colors duration-200"
        (click)="onNavigate(item.href)">

        <svg
          class="mr-3 h-5 w-5 text-gray-400 group-hover:text-gray-600"
          [class.text-indigo-500]="true"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" [attr.d]="getIconSvg(item.icon)"></path>
        </svg>

        <span class="truncate">{{ item.name }}</span>

        <!-- Badge for notifications/counts -->
        <span
          *ngIf="item.badge"
          class="ml-auto inline-block py-0.5 px-2 text-xs rounded-full bg-indigo-100 text-indigo-600">
          {{ item.badge }}
        </span>
      </a>
    </div>
  </nav>

  <!-- Sidebar footer -->
  <div class="border-t border-gray-200 p-4">
    <div class="flex items-center justify-between">
      <div class="text-xs text-gray-500">
        Â© 2025 Academy Management
      </div>
      <div class="text-xs text-gray-500">
        v1.0.0
      </div>
    </div>
  </div>
</div>
